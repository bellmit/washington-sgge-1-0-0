<?xml version="1.0" encoding="UTF-8" ?>


<!-- create by system gera-java version 1.0.0 04/12/2016 13:15 : 3 -->

<!DOCTYPE mapper
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="NFNotaInfoItemProdutoMap">
	<cache type="org.mybatis.caches.ehcache.LoggingEhcache" />
	<cache type="org.mybatis.caches.ehcache.EhcacheCache" />

	<!-- Result maps describe the mapping between the columns returned from 
		a query, and the class properties. A result map isnt necessary if the columns 
		(or aliases) match to the properties exactly. -->
	<resultMap id="NFNotaInfoItemProdutoResult" type="NFNotaInfoItemProduto">
		<result property="id" column="id" />
		<result property="codigo" column="codigo" />
		<result property="codigoDeBarras" column="codigoDeBarras" />
		<result property="descricao" column="descricao" />
		<result property="ncm" column="ncm" />

		<result property="codigoEspecificadorSituacaoTributaria"
			column="codigoEspecificadorSituacaoTributaria" />
		<result property="extipi" column="extipi" />
		<result property="cfop" column="cfop" />
		<result property="unidadeComercial" column="unidadeComercial" />
		<result property="quantidadeComercial" column="quantidadeComercial" />
		<result property="valorUnitario" column="valorUnitario" />
		<result property="valorTotalBruto" column="valorTotalBruto" />
		<result property="codigoDeBarrasTributavel" column="codigoDeBarrasTributavel" />
		<result property="unidadeTributavel" column="unidadeTributavel" />
		<result property="quantidadeTributavel" column="quantidadeTributavel" />
		<result property="valorUnitarioTributavel" column="valorUnitarioTributavel" />
		<result property="valorFrete" column="valorFrete" />
		<result property="valorSeguro" column="valorSeguro" />
		<result property="valorDesconto" column="valorDesconto" />
		<result property="valorOutrasDespesasAcessorias" column="valorOutrasDespesasAcessorias" />

		<result property="numeroPedidoCliente" column="numeroPedidoCliente" />
		<result property="numeroPedidoItemCliente" column="numeroPedidoItemCliente" />
		<result property="numeroControleFCI" column="numeroControleFCI" />

		<result property="numeroRECOPI" column="numeroRECOPI" />
		<result property="parentId" column="parentId" />
		<result property="tabelaEnumValue" column="tabelaEnumValue" />
		<result property="emprId" column="emprId" />
		<result property="processId" column="processId" />
		<result property="createUser" column="create_user" />
		<result property="createDateUTC" column="create_date" />
		<result property="modifyUser" column="modify_user" />
		<result property="modifyDateUTC" column="modify_date" />
		<result property="nomeclaturaValorAduaneiroEstatistica"
			column="nomeclaturaValorAduaneiroEstatistica"/>
		<collection property="compoeValorNota" column="compoeValorNota"
			select="DoisValorMap.fetchDoisValorById" />
		<collection property="declaracoesImportacao" column="id"
			select="NFNotaInfoItemProdutoDeclaracaoImportacaoMap.fetchNFNotaInfoItemProdutoDeclaracaoImportacaoByParentId" />
		<collection property="detalhesExportacao" column="id"
			select="NFNotaInfoItemDetalheExportacaoMap.fetchNFNotaInfoItemDetalheExportacaoByParentId" />
		<collection property="veiculo" column="veiculo"
			select="NFNotaInfoItemProdutoVeiculoMap.fetchNFNotaInfoItemProdutoVeiculoById" />
		<collection property="medicamentos" column="id"
			select="NFNotaInfoItemProdutoMedicamentoMap.fetchNFNotaInfoItemProdutoMedicamentoByParentId" />
		<collection property="armamentos" column="id"
			select="NFNotaInfoItemProdutoArmamentoMap.fetchNFNotaInfoItemProdutoArmamentoByParentId" />
		<collection property="combustivel" column="combustivel"
			select="NFNotaInfoItemProdutoCombustivelMap.fetchNFNotaInfoItemProdutoCombustivelById" />
	</resultMap>

	<sql id="allNFNotaInfoItemProdutoColumns">
		codigo
		,codigoDeBarras
		,descricao
		,ncm
		,codigoEspecificadorSituacaoTributaria
		,extipi
		,cfop
		,unidadeComercial
		,quantidadeComercial
		,valorUnitario
		,valorTotalBruto
		,codigoDeBarrasTributavel
		,unidadeTributavel
		,quantidadeTributavel
		,valorUnitarioTributavel
		,valorFrete
		,valorSeguro
		,valorDesconto
		,valorOutrasDespesasAcessorias
		,compoeValorNota
		,numeroPedidoCliente
		,numeroPedidoItemCliente
		,numeroControleFCI
		,veiculo
		,combustivel
		,numeroRECOPI
		,parentId
		,tabelaEnumValue
		,emprId
		,processId
		,create_date
		,create_user
		,modify_date
		,modify_user

	</sql>
	<sql id="allNFNotaInfoItemProdutoValues">
		#{codigo},
		#{codigoDeBarras},
		#{descricao},
		#{ncm},
		#{codigoEspecificadorSituacaoTributaria},
		#{extipi},
		#{cfop},
		#{unidadeComercial},
		#{quantidadeComercial},
		#{valorUnitario},
		#{valorTotalBruto},
		#{codigoDeBarrasTributavel},
		#{unidadeTributavel},
		#{quantidadeTributavel},
		#{valorUnitarioTributavel},
		#{valorFrete},
		#{valorSeguro},
		#{valorDesconto},
		#{valorOutrasDespesasAcessorias},
		#{compoeValorNota.id},
		#{numeroPedidoCliente},
		#{numeroPedidoItemCliente},
		#{numeroControleFCI},
		#{veiculo.id},
		#{combustivel.id},
		#{numeroRECOPI},
		#{parentId},
		#{tabelaEnumValue},
		#{emprId},
		#{processId},
		#{createDateUTC},
		#{createUser},
		#{modifyDateUTC},
		#{modifyUser}
	</sql>


	<select id="fetchAllNFNotaInfoItemProdutos" resultMap="NFNotaInfoItemProdutoResult">
		SELECT id,
		<include refid="allNFNotaInfoItemProdutoColumns" />
		FROM nfnotainfoitemproduto ORDER BY id ASC
	</select>

	<select id="fetchNFNotaInfoItemProdutoById" parameterType="Integer"
		resultMap="NFNotaInfoItemProdutoResult">
		SELECT id,
		<include refid="allNFNotaInfoItemProdutoColumns" />
		FROM nfnotainfoitemproduto WHERE id = #{fetchid}
	</select>

	<select id="fetchAllNFNotaInfoItemProdutosRequest"
		parameterType="PagedInquiryRequest" resultMap="NFNotaInfoItemProdutoResult">

		SELECT id,
		<include refid="allNFNotaInfoItemProdutoColumns" />
		FROM nfnotainfoitemproduto where 0 = 0
		<if test="emprId != null"> and emprId = emprId</if>
		ORDER BY id ASC
		OFFSET ( #{startPage} * #{pageSize} )
		LIMIT #{pageSize}
	</select>

	<select id="fetchNFNotaInfoItemProdutoRowCount" resultType="Integer">
		SELECT COUNT(*) AS RECORD_COUNT FROM nfnotainfoitemproduto WHERE id IS
		NOT NULL
		<if test="emprId != null"> and emprId = emprId</if>

	</select>

	<insert id="insertNFNotaInfoItemProduto" parameterType="NFNotaInfoItemProduto"
		useGeneratedKeys="true" keyProperty="id">
		INSERT INTO nfnotainfoitemproduto (
		<if test="id != null">
			<if test="id > 0">id,</if>
		</if>
		<include refid="allNFNotaInfoItemProdutoColumns" />
		)
		VALUES (
		<if test="id != null">
			<if test="id > 0">#{id},</if>
		</if>
		<include refid="allNFNotaInfoItemProdutoValues" />
		)
	</insert>

	<update id="updateNFNotaInfoItemProduto" parameterType="NFNotaInfoItemProduto">
		UPDATE nfnotainfoitemproduto SET
		<if test="codigo!= null">codigo = #{codigo},</if>
		<if test="codigoDeBarras!= null">codigoDeBarras = #{codigoDeBarras},</if>
		<if test="descricao!= null">descricao = #{descricao},</if>
		<if test="ncm!= null">ncm = #{ncm},</if>
		<if test="codigoEspecificadorSituacaoTributaria!= null">codigoEspecificadorSituacaoTributaria =
			#{codigoEspecificadorSituacaoTributaria},</if>
		<if test="extipi!= null">extipi = #{extipi},</if>
		<if test="cfop!= null">cfop = #{cfop},</if>
		<if test="unidadeComercial!= null">unidadeComercial = #{unidadeComercial},</if>
		<if test="quantidadeComercial!= null">quantidadeComercial = #{quantidadeComercial},</if>
		<if test="valorUnitario!= null">valorUnitario = #{valorUnitario},</if>
		<if test="valorTotalBruto!= null">valorTotalBruto = #{valorTotalBruto},</if>
		<if test="codigoDeBarrasTributavel!= null">codigoDeBarrasTributavel = #{codigoDeBarrasTributavel},
		</if>
		<if test="unidadeTributavel!= null">unidadeTributavel = #{unidadeTributavel},</if>
		<if test="quantidadeTributavel!= null">quantidadeTributavel = #{quantidadeTributavel},</if>
		<if test="valorUnitarioTributavel!= null">valorUnitarioTributavel = #{valorUnitarioTributavel},</if>
		<if test="valorFrete!= null">valorFrete = #{valorFrete},</if>
		<if test="valorSeguro!= null">valorSeguro = #{valorSeguro},</if>
		<if test="valorDesconto!= null">valorDesconto = #{valorDesconto},</if>
		<if test="valorOutrasDespesasAcessorias!= null">valorOutrasDespesasAcessorias =
			#{valorOutrasDespesasAcessorias},</if>
		<if test="compoeValorNota!= null">compoeValorNota = #{compoeValorNota.id},</if>
		<if test="numeroPedidoCliente!= null">numeroPedidoCliente = #{numeroPedidoCliente},</if>
		<if test="numeroPedidoItemCliente!= null">numeroPedidoItemCliente = #{numeroPedidoItemCliente},</if>
		<if test="numeroControleFCI!= null">numeroControleFCI = #{numeroControleFCI},</if>
		<if test="veiculo!= null">veiculo = #{veiculo.id},</if>
		<if test="combustivel!= null">combustivel = #{combustivel.id},</if>
		<if test="numeroRECOPI!= null">numeroRECOPI = #{numeroRECOPI},</if>
		<if test="parentId!= null"> parentId=#{parentId},</if>
		<if test="tabelaEnumValue!= null"> tabelaEnumValue=#{tabelaEnumValue},</if>
		<if test="emprId!= null"> emprId=#{emprId},</if>
		<if test="processId!= null"> processId=#{processId},</if>
		<if test="modifyDateUTC!= null"> modify_date=#{modifyDateUTC},</if>
		<if test="modifyUser!= null"> modify_user=#{modifyUser}</if>
		WHERE
		id = #{id}
	</update>

	<delete id="deleteNFNotaInfoItemProdutoById" parameterType="NFNotaInfoItemProduto">
		DELETE FROM nfnotainfoitemproduto WHERE id = #{id}
	</delete>

	<delete id="deleteAllNFNotaInfoItemProdutos">
		DELETE FROM nfnotainfoitemproduto
	</delete>
</mapper>


