<?xml version="1.0" encoding="UTF-8" ?>


<!-- create by system gera-java version 1.0.0 10/05/2016 15:3 : 23-->

<!DOCTYPE mapper
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="UtilMap">
	<cache type="org.mybatis.caches.ehcache.LoggingEhcache"/>
	<cache type="org.mybatis.caches.ehcache.EhcacheCache"/>

  <!-- Result maps describe the mapping between the columns returned
      from a query, and the class properties.  A result map isnt
      necessary if the columns (or aliases) match to the properties
       exactly. -->
  <resultMap id="cPessoaResult" type="Pessoa">
    <result property="id" column="id"/>
    <result property="nome" column="nome"/>
	<collection property="documentos" column="id" select="DocumentoMap.fetchDocumentoByPessoa"/>
  </resultMap>

  <sql id="allCidadeColumns">
nome


</sql>
<sql id="allCidadeValues">
#{nome},

</sql>



 <select id="fetchAllCliente" resultMap="cPessoaResult">
    SELECT id,
	<include refid="allCidadeColumns" />
   FROM pessoa where pessoaTypeEnum = 1 ORDER BY nome ASC
 </select>

  <select id="fetchAllFornecedor" resultMap="cPessoaResult">
    SELECT id,
	<include refid="allCidadeColumns" />
   FROM pessoa where pessoaTypeEnum = 2 ORDER BY nome ASC
 </select>


  <select id="fetchAllTransportador" resultMap="cPessoaResult">
    SELECT id,
	<include refid="allCidadeColumns" />
   FROM pessoa where pessoaTypeEnum = 4 ORDER BY nome ASC
 </select>



</mapper>


