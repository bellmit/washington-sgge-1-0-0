<?xml version="1.0" encoding="UTF-8" ?>


<!-- create by system gera-java version 1.0.0 03/08/2016 12:24 : 19 -->

<!DOCTYPE mapper
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="ProcessoMap">
	<cache type="org.mybatis.caches.ehcache.LoggingEhcache" />
	<cache type="org.mybatis.caches.ehcache.EhcacheCache" />

	<!-- Result maps describe the mapping between the columns returned from
		a query, and the class properties. A result map isnt necessary if the columns
		(or aliases) match to the properties exactly. private Integer id; /** The
		type of an account. */ -->


	<resultMap id="ProcessoResult" type="Processo">

		<result property="id" column="id" />
		<result property="dataProcess" column="dataProcess" />
		<result property="dataFim" column="dataFim" />
		<result property="valor" column="valor" />
		<result property="assunto" column="assunto" />
		<result property="processo" column="processo" />
		<result property="orgao" column="orgao" />
		<result property="npadraocnj" column="npadraocnj" />
		<result property="npadrao" column="npadrao" />
		<result property="agendarCap" column="agendarCap" />
		<result property="distribuido" column="distribuido" />
		<result property="valorAcao" column="valorAcao" />
		<result property="pasta" column="pasta" />

		<result property="enviarEmail" column="enviarEmail" />
		<result property="enviarMdgTelefone" column="enviarMdgTelefone" />
		<result property="fundamentacaoJuridica" column="fundamentacaoJuridica" />
		<result property="fatos" column="fatos" />
		<result property="pretensoesCliente" column="pretensoesCliente" />
		<result property="estrategia" column="estrategia" />
		<result property="retringirProcesso" column="retringirProcesso" />

		<result property="observacaoProc" column="observacaoProc" />
		<result property="numeroprocesso" column="numeroprocesso" />
		<result property="descricaoProc" column="descricaoProc" />
		<result property="parentId" column="parentId" />
		<result property="tabelaEnumValue" column="tabelaEnumValue" />
		<result property="emprId" column="emprId" />
		<result property="processId" column="processId" />
		<result property="createUser" column="create_user" />
		<result property="createDateUTC" column="create_date" />
		<result property="modifyUser" column="modify_user" />
		<result property="modifyDateUTC" column="modify_date" />
		<collection property="quando" column="quando"
			select="DoisValorMap.fetchDoisValorById" />
		<collection property="justica" column="justica"
			select="DoisValorMap.fetchDoisValorById" />
		<collection property="tribunal" column="tribunal"
			select="DoisValorMap.fetchDoisValorById" />
		<collection property="instancia1" column="instancia1"
			select="DoisValorMap.fetchDoisValorById" />
		<collection property="localidade" column="localidade"
			select="DoisValorMap.fetchDoisValorById" />
		<collection property="capturpor" column="capturpor"
			select="DoisValorMap.fetchDoisValorById" />
		<collection property="acao" column="acao"
			select="DoisValorMap.fetchDoisValorById" />
		<collection property="situacao" column="situacao"
			select="DoisValorMap.fetchDoisValorById" />
		<collection property="instancia" column="instancia"
			select="DoisValorMap.fetchDoisValorById" />
		<collection property="capautomatica" column="capautomatica"
			select="DoisValorMap.fetchDoisValorById" />

		<collection property="tituloList" column="id"
			select="ContasReceberMap.fetchContasReceberByParentId" />

		<collection property="advogadoList" column="id"
			select="DoisValorMap.fetchDoisValorById" />

		<collection property="audienciaList" column="id"
			select="DoisValorMap.fetchDoisValorById" />

		<collection property="processoStatusList" column="id"
			select="ProcessoMap.fetchProcessoStatusByParentId" />

		<collection property="envolvList" column="id"
			select="ProcessoMap.fetchEnvolvidosByParentId" />

		<collection property="documentos" column="id"
			select="DocumentoMap.fetchDocumentoByParentId" />

		<collection property="envolvidosExterno" column="id"
			select="ProcessoMap.fetchParticipanteExternoByParentId" />

		<collection property="usuariosRestricaoProc" column="id"
			select="UsuarioMap.fetchUsuarioByParentId" />

	</resultMap>

	<sql id="allProcessoColumns">
		dataProcess,
		dataFim,
		valor,
		acao,
		assunto,
		descricaoProc,
		processo,
		situacao,
		instancia,
		orgao,
		npadraocnj,
		npadrao,
		agendarCap,
		distribuido,
		valorAcao,
		observacaoProc,
		justica,
		tribunal,
		instancia1,
		localidade,
		capturpor,
		numeroprocesso,
		capautomatica,
		pasta,
		enviarEmail,
		enviarMdgTelefone,
		quando,
		fundamentacaoJuridica,
		fatos,
		pretensoesCliente,
		estrategia,
		retringirProcesso
		,parentId
		,tabelaEnumValue
		,emprId
		,processId
		,create_date
		,create_user
		,modify_date
		,modify_user

	</sql>
	<sql id="allProcessoValues">
		#{dataProcess},
		#{dataFim},
		#{valor},
		#{acao.id},
		#{assunto},
		#{descricaoProc},
		#{processo},
		#{situacao.id},
		#{instancia.id},
		#{orgao},
		#{npadraocnj},
		#{npadrao},
		#{agendarCap},
		#{distribuido},
		#{valorAcao},
		#{observacaoProc},
		#{justica.id},
		#{tribunal.id},
		#{instancia1.id},
		#{localidade.id},
		#{capturpor.id},
		#{numeroprocesso},
		#{capautomatica.id},
		#{pasta},
		#{enviarEmail},
		#{enviarMdgTelefone},
		#{quando.id},
		#{fundamentacaoJuridica},
		#{fatos},
		#{pretensoesCliente},
		#{estrategia},
		#{retringirProcesso},
		#{parentId},
		#{tabelaEnumValue},
		#{emprId},
		#{processId},
		#{createDateUTC},
		#{createUser},
		#{modifyDateUTC},
		#{modifyUser}
	</sql>


	<select id="fetchAllProcessos" resultMap="ProcessoResult">
		SELECT id,
		<include refid="allProcessoColumns" />
		FROM processo ORDER BY id ASC
	</select>

	<select id="fetchProcessoById" parameterType="Integer"
		resultMap="ProcessoResult">
		SELECT id,
		<include refid="allProcessoColumns" />
		FROM processo WHERE id = #{fetchid}
	</select>

	<select id="fetchAllProcessosRequest" parameterType="ProcessoInquiryRequest"
		resultMap="ProcessoResult">

		SELECT id,
		<include refid="allProcessoColumns" />
		FROM processo where 0 = 0
		<if test="permissaoTypeEnumValue == 1">
			and id IS NOT NULL
		</if>
		<if test="permissaoTypeEnumValue != 1">
			<if test="emprId == null">
				<if test="emprIds != null">
					and emprId in

					<foreach item="item" index="index" collection="emprIds"
						open="(" separator="," close=")">
						#{item}
					</foreach>

				</if>
			</if>
			<if test="emprId != null"> and emprId = #{emprId}</if>
		</if>
	</select>

	<select id="fetchProcessoRowCount" resultType="Integer">
		SELECT COUNT(*) AS RECORD_COUNT FROM processo WHERE id IS NOT NULL
		<if test="permissaoTypeEnumValue == 1">
			and id IS NOT NULL
		</if>
		<if test="permissaoTypeEnumValue != 1">
			<if test="emprId == null">
				<if test="emprIds != null">
					and emprId in

					<foreach item="item" index="index" collection="emprIds"
						open="(" separator="," close=")">
						#{item}
					</foreach>

				</if>
			</if>
			<if test="emprId != null"> and emprId = #{emprId}</if>
		</if>

	</select>

	<insert id="insertProcesso" parameterType="Processo"
		useGeneratedKeys="true" keyProperty="id">
		INSERT INTO processo (
		<if test="id != null">
			<if test="id > 0">id,</if>
		</if>
		<include refid="allProcessoColumns" />
		)
		VALUES (
		<if test="id != null">
			<if test="id > 0">#{id},</if>
		</if>
		<include refid="allProcessoValues" />
		)
	</insert>

	<update id="updateProcesso" parameterType="Processo">
		UPDATE processo SET
		<if test="dataProcess!= null"> dataProcess=#{dataProcess},</if>
		<if test="dataFim!= null"> dataFim=#{dataFim},</if>
		<if test="valor!= null"> valor=#{valor},</if>
		<if test="acao.id!= null"> acao=#{acao.id},</if>
		<if test="assunto!= null"> assunto=#{assunto},</if>
		<if test="descricaoProc != null"> descricaoProc=#{descricaoProc},</if>
		<if test="processo != null"> processo=#{processo},</if>
		<if test="situacao.id != null"> situacao=#{situacao.id},</if>
		<if test="instancia.id != null"> instancia=#{instancia.id},</if>
		<if test="orgao != null"> orgao=#{orgao},</if>
		<if test="npadraocnj != null"> npadraocnj=#{npadraocnj},</if>
		<if test="npadrao != null"> npadrao=#{npadrao},</if>
		<if test="agendarCap != null"> agendarCap=#{agendarCap},</if>
		<if test="distribuido != null"> distribuido=#{distribuido},</if>
		<if test="valorAcao != null"> valorAcao=#{valorAcao},</if>
		<if test="observacaoProc != null"> observacaoProc=#{observacaoProc},</if>
		<if test="justica.id != null"> justica=#{justica.id},</if>
		<if test="tribunal.id != null"> tribunal=#{tribunal.id},</if>
		<if test="instancia1.id != null"> instancia1=#{instancia1.id},</if>
		<if test="localidade.id != null"> localidade=#{localidade.id},</if>
		<if test="capturpor.id != null"> capturpor=#{capturpor.id},</if>
		<if test="numeroprocesso != null"> numeroprocesso=#{numeroprocesso},</if>
		<if test="capautomatica.id != null"> capautomatica=#{capautomatica.id},</if>
		<if test="pasta != null"> pasta=#{pasta},</if>
		<if test="enviarEmail != null"> enviarEmail=#{enviarEmail},</if>
		<if test="enviarMdgTelefone != null"> enviarMdgTelefone=#{enviarMdgTelefone},</if>
		<if test="quando != null"> quando=#{quando.id},</if>
		<if test="fundamentacaoJuridica != null"> fundamentacaoJuridica=#{fundamentacaoJuridica},</if>
		<if test="fatos != null"> fatos=#{fatos},</if>
		<if test="pretensoesCliente != null"> pretensoesCliente=#{pretensoesCliente},</if>
		<if test="estrategia != null"> estrategia=#{estrategia},</if>
		<if test="retringirProcesso != null"> retringirProcesso=#{retringirProcesso},</if>
		<if test="parentId!= null"> parentId=#{parentId},</if>
		<if test="emprId!= null"> emprId=#{emprId},</if>
		<if test="processId!= null"> processId=#{processId},</if>
		<if test="modifyDateUTC!= null"> modify_date=#{modifyDateUTC},</if>
		<if test="modifyUser!= null"> modify_user=#{modifyUser}</if>
		WHERE
		id = #{id}
	</update>

	<delete id="deleteProcessoById" parameterType="Processo">
		DELETE FROM
		processo WHERE id = #{id}
	</delete>

	<delete id="deleteAllProcessos">
		DELETE FROM processo
	</delete>






	<!-- Result maps describe the mapping between the columns returned from
		a query, and the class properties. A result map isnt necessary if the columns
		(or aliases) match to the properties exactly. -->
	<resultMap id="ProcessoStatusResult" type="ProcessoStatus">

		<result property="id" column="id" />
		<result property="dataProcesso" column="dataProcesso" />
		<result property="note" column="note" />
		<result property="parentId" column="parentId" />
		<result property="tabelaEnumValue" column="tabelaEnumValue" />
		<result property="emprId" column="emprId" />
		<result property="processId" column="processId" />
		<result property="createUser" column="create_user" />
		<result property="createDateUTC" column="create_date" />
		<result property="modifyUser" column="modify_user" />
		<result property="modifyDateUTC" column="modify_date" />
		<collection property="statusProcess" column="statusProcess"
			select="DoisValorMap.fetchDoisValorById" />

	</resultMap>

	<sql id="allProcessoStatusColumns">
		dataProcesso,
		note,
		statusProcess
		,parentId
		,tabelaEnumValue
		,emprId
		,processId
		,create_date
		,create_user
		,modify_date
		,modify_user

	</sql>
	<sql id="allProcessoStatusValues">
		#{dataProcesso},
		#{note},
		#{statusProcess.id},
		#{parentId},
		#{tabelaEnumValue},
		#{emprId},
		#{processId},
		#{createDateUTC},
		#{createUser},
		#{modifyDateUTC},
		#{modifyUser}
	</sql>


	<select id="fetchAllProcessosStatus" resultMap="ProcessoStatusResult">
		SELECT id,
		<include refid="allProcessoColumns" />
		FROM processoStatus ORDER BY id ASC
	</select>

	<select id="fetchProcessoStatusById" parameterType="Integer"
		resultMap="ProcessoStatusResult">
		SELECT id,
		<include refid="allProcessoStatusColumns" />
		FROM processoStatus WHERE id = #{fetchid}
	</select>

	<select id="fetchProcessoStatusByParentId" parameterType="Integer"
		resultMap="ProcessoStatusResult">
		SELECT id,
		<include refid="allProcessoStatusColumns" />
		FROM processoStatus WHERE parentId = #{fetchid}
	</select>

	<select id="fetchAllProcessosStatusRequest" parameterType="PagedInquiryRequest"
		resultMap="ProcessoStatusResult">

		SELECT id,
		<include refid="allProcessoStatusColumns" />
		FROM processo where 0 = 0
		<if test="permissaoTypeEnumValue == 1">
			and id IS NOT NULL
		</if>
		<if test="permissaoTypeEnumValue != 1">
			<if test="emprId == null">
				<if test="emprIds != null">
					and emprId in

					<foreach item="item" index="index" collection="emprIds"
						open="(" separator="," close=")">
						#{item}
					</foreach>

				</if>
			</if>
			<if test="emprId != null"> and emprId = #{emprId}</if>
		</if>
		ORDER BY id ASC
	</select>

	<select id="fetchProcessoStatusRowCount" resultType="Integer">
		SELECT COUNT(*) AS RECORD_COUNT FROM processoStatus WHERE id IS NOT
		NULL
		<if test="permissaoTypeEnumValue == 1">
			and id IS NOT NULL
		</if>
		<if test="permissaoTypeEnumValue != 1">
			<if test="emprId == null">
				<if test="emprIds != null">
					and emprId in

					<foreach item="item" index="index" collection="emprIds"
						open="(" separator="," close=")">
						#{item}
					</foreach>

				</if>
			</if>
			<if test="emprId != null"> and emprId = #{emprId}</if>
		</if>

	</select>

	<insert id="insertProcessoStatus" parameterType="ProcessoStatus"
		useGeneratedKeys="true" keyProperty="id">
		INSERT INTO processoStatus (
		<if test="id != null">
			<if test="id > 0">id,</if>
		</if>
		<include refid="allProcessoStatusColumns" />
		)
		VALUES (
		<if test="id != null">
			<if test="id > 0">#{id},</if>
		</if>
		<include refid="allProcessoStatusValues" />
		)
	</insert>

	<update id="updateProcessoStatus" parameterType="ProcessoStatus">
		UPDATE processo SET
		<if test="dataProcesso!= null"> dataProcesso=#{dataProcesso},</if>
		<if test="note!= null"> note=#{note},</if>
		<if test="statusProcess!= null"> statusProcess=#{statusProcess.id},</if>
		<if test="parentId!= null"> parentId=#{parentId},</if>
		<if test="emprId!= null"> emprId=#{emprId},</if>
		<if test="processId!= null"> processId=#{processId},</if>
		<if test="modifyDateUTC!= null"> modify_date=#{modifyDateUTC},</if>
		<if test="modifyUser!= null"> modify_user=#{modifyUser}</if>
		WHERE
		id = #{id}
	</update>

	<delete id="deleteProcessoStatusById" parameterType="ProcessoStatus">
		DELETE FROM
		processoStatus WHERE id = #{id}
	</delete>

	<delete id="deleteAllProcessosStatus">
		DELETE FROM processoStatus
	</delete>




	<!-- Result maps describe the mapping between the columns returned from
		a query, and the class properties. A result map isnt necessary if the columns
		(or aliases) match to the properties exactly. private Integer id; /** The
		type of an account. */ private Cliente cliente; /** The tipo envolvido. */
		private DoisValores tipoEnvolvido; /** The envolvimento. */ private DoisValores
		envolvimento; private Integer bCliente; -->
	<resultMap id="EnvolvidosResult" type="Envolvidos">

		<result property="id" column="id" />
		<result property="bCliente" column="bCliente" />
		<result property="parentId" column="parentId" />
		<result property="tabelaEnumValue" column="tabelaEnumValue" />
		<result property="emprId" column="emprId" />
		<result property="processId" column="processId" />
		<result property="createUser" column="create_user" />
		<result property="createDateUTC" column="create_date" />
		<result property="modifyUser" column="modify_user" />
		<result property="modifyDateUTC" column="modify_date" />
		<collection property="cliente" column="cliente"
			select="ClienteMap.fetchClienteById" />
		<collection property="tipoEnvolvido" column="tipoEnvolvido"
			select="DoisValorMap.fetchDoisValorById" />
		<collection property="envolvimento" column="envolvimento"
			select="DoisValorMap.fetchDoisValorById" />

	</resultMap>

	<sql id="allEnvolvidosColumns">
		bCliente,
		cliente,
		tipoEnvolvido,
		envolvimento
		,parentId
		,tabelaEnumValue
		,emprId
		,processId
		,create_date
		,create_user
		,modify_date
		,modify_user

	</sql>
	<sql id="allEnvolvidosValues">
		#{bCliente},
		#{cliente.id},
		#{tipoEnvolvido.id},
		#{envolvimento.id},
		#{parentId},
		#{tabelaEnumValue},
		#{emprId},
		#{processId},
		#{createDateUTC},
		#{createUser},
		#{modifyDateUTC},
		#{modifyUser}
	</sql>


	<select id="fetchAllEnvolvidos" resultMap="EnvolvidosResult">
		SELECT id,
		<include refid="allEnvolvidosColumns" />
		FROM Envolvidos ORDER BY id ASC
	</select>

	<select id="fetchEnvolvidosById" parameterType="Integer"
		resultMap="EnvolvidosResult">
		SELECT id,
		<include refid="allEnvolvidosColumns" />
		FROM Envolvidos WHERE id = #{fetchid}
	</select>

	<select id="fetchEnvolvidosByParentId" parameterType="Integer"
		resultMap="EnvolvidosResult">
		SELECT id,
		<include refid="allEnvolvidosColumns" />
		FROM Envolvidos WHERE parentid = #{fetchid}
	</select>

	<select id="fetchAllEnvolvidosRequest" parameterType="PagedInquiryRequest"
		resultMap="EnvolvidosResult">

		SELECT id,
		<include refid="allEnvolvidosColumns" />
		FROM Envolvidos where 0 = 0
		<if test="permissaoTypeEnumValue == 1">
			and id IS NOT NULL
		</if>
		<if test="permissaoTypeEnumValue != 1">
			<if test="emprId == null">
				<if test="emprIds != null">
					and emprId in

					<foreach item="item" index="index" collection="emprIds"
						open="(" separator="," close=")">
						#{item}
					</foreach>

				</if>
			</if>
			<if test="emprId != null"> and emprId = #{emprId}</if>
		</if>
		ORDER BY id ASC
	</select>

	<select id="fetchEnvolvidosRowCount" resultType="Integer">
		SELECT COUNT(*) AS RECORD_COUNT FROM Envolvidos WHERE id IS NOT NULL
		<if test="permissaoTypeEnumValue == 1">
			and id IS NOT NULL
		</if>
		<if test="permissaoTypeEnumValue != 1">
			<if test="emprId == null">
				<if test="emprIds != null">
					and emprId in

					<foreach item="item" index="index" collection="emprIds"
						open="(" separator="," close=")">
						#{item}
					</foreach>

				</if>
			</if>
			<if test="emprId != null"> and emprId = #{emprId}</if>
		</if>

	</select>

	<insert id="insertEnvolvidos" parameterType="Envolvidos"
		useGeneratedKeys="true" keyProperty="id">
		INSERT INTO Envolvidos (
		<if test="id != null">
			<if test="id > 0">id,</if>
		</if>
		<include refid="allEnvolvidosColumns" />
		)
		VALUES (
		<if test="id != null">
			<if test="id > 0">#{id},</if>
		</if>
		<include refid="allEnvolvidosValues" />
		)
	</insert>

	<update id="updateEnvolvidos" parameterType="Envolvidos">
		UPDATE Envolvidos SET

		<if test="bCliente!= null"> bCliente=#{bCliente},</if>
		<if test="cliente!= null"> cliente=#{cliente.id},</if>
		<if test="tipoEnvolvido!= null"> tipoEnvolvido=#{tipoEnvolvido.id},</if>
		<if test="envolvimento!= null"> envolvimento=#{envolvimento.id},</if>

		<if test="parentId!= null"> parentId=#{parentId},</if>
		<if test="emprId!= null"> emprId=#{emprId},</if>
		<if test="processId!= null"> processId=#{processId},</if>
		<if test="modifyDateUTC!= null"> modify_date=#{modifyDateUTC},</if>
		<if test="modifyUser!= null"> modify_user=#{modifyUser}</if>
		WHERE
		id = #{id}
	</update>

	<delete id="deleteEnvolvidosById" parameterType="Envolvidos">
		DELETE FROM
		Envolvidos WHERE id = #{id}
	</delete>

	<delete id="deleteAllEnvolvidos">
		DELETE FROM Envolvidos
	</delete>


	<!-- Result maps describe the mapping between the columns returned from
		a query, and the class properties. A result map isnt necessary if the columns
		(or aliases) match to the properties exactly. private Integer id; /** The
		type of an account. */ private Cliente cliente; /** The tipo envolvido. */
		private DoisValores tipoEnvolvido; /** The envolvimento. */ private DoisValores
		envolvimento; private Integer bCliente; -->
	<resultMap id="ParticipanteExternoResult" type="ParticipanteExterno">
		<result property="id" column="id" />
		<result property="nome" column="nome" />
		<result property="parentId" column="parentId" />
		<result property="tabelaEnumValue" column="tabelaEnumValue" />
		<result property="emprId" column="emprId" />
		<result property="processId" column="processId" />
		<result property="createUser" column="create_user" />
		<result property="createDateUTC" column="create_date" />
		<result property="modifyUser" column="modify_user" />
		<result property="modifyDateUTC" column="modify_date" />
		<collection property="email" column="id"
			select="EmailMap.fetchEmailById" />
		<collection property="telefones" column="id"
			select="TelefoneMap.fetchTelefoneById" />


	</resultMap>

	<sql id="allParticipanteExternoColumns">
		nome,
		,parentId
		,tabelaEnumValue
		,emprId
		,processId
		,create_date
		,create_user
		,modify_date
		,modify_user

	</sql>
	<sql id="allParticipanteExternoValues">
		#{nome},
		#{parentId},
		#{tabelaEnumValue},
		#{emprId},
		#{processId},
		#{createDateUTC},
		#{createUser},
		#{modifyDateUTC},
		#{modifyUser}
	</sql>


	<select id="fetchAllParticipanteExterno" resultMap="ParticipanteExternoResult">
		SELECT id,
		<include refid="allParticipanteExternoColumns" />
		FROM ParticipanteExterno ORDER BY id ASC
	</select>

	<select id="fetchParticipanteExternoById" parameterType="Integer"
		resultMap="ParticipanteExternoResult">
		SELECT id,
		<include refid="allParticipanteExternoColumns" />
		FROM ParticipanteExterno WHERE id = #{fetchid}
	</select>

	<select id="fetchParticipanteExternoByParentId" parameterType="Integer"
		resultMap="ParticipanteExternoResult">
		SELECT id,
		<include refid="allParticipanteExternoColumns" />
		FROM ParticipanteExterno WHERE parentid = #{fetchid}
	</select>

	<select id="fetchAllParticipanteExternoRequest" parameterType="PagedInquiryRequest"
		resultMap="ParticipanteExternoResult">

		SELECT id,
		<include refid="allParticipanteExternoColumns" />
		FROM ParticipanteExterno where 0 = 0
		<if test="permissaoTypeEnumValue == 1">
			and id IS NOT NULL
		</if>
		<if test="permissaoTypeEnumValue != 1">
			<if test="emprId == null">
				<if test="emprIds != null">
					and emprId in

					<foreach item="item" index="index" collection="emprIds"
						open="(" separator="," close=")">
						#{item}
					</foreach>

				</if>
			</if>
			<if test="emprId != null"> and emprId = #{emprId}</if>
		</if>
		ORDER BY id ASC
	</select>

	<select id="fetchParticipanteExternoRowCount" resultType="Integer">
		SELECT COUNT(*) AS RECORD_COUNT FROM ParticipanteExterno WHERE id IS
		NOT NULL
		<if test="permissaoTypeEnumValue == 1">
			and id IS NOT NULL
		</if>
		<if test="permissaoTypeEnumValue != 1">
			<if test="emprId == null">
				<if test="emprIds != null">
					and emprId in

					<foreach item="item" index="index" collection="emprIds"
						open="(" separator="," close=")">
						#{item}
					</foreach>

				</if>
			</if>
			<if test="emprId != null"> and emprId = #{emprId}</if>
		</if>

	</select>

	<insert id="insertParticipanteExterno" parameterType="ParticipanteExterno"
		useGeneratedKeys="true" keyProperty="id">
		INSERT INTO ParticipanteExterno (
		<if test="id != null">
			<if test="id > 0">id,</if>
		</if>
		<include refid="allParticipanteExternoColumns" />
		)
		VALUES (
		<if test="id != null">
			<if test="id > 0">#{id},</if>
		</if>
		<include refid="allParticipanteExternoValues" />
		)
	</insert>

	<update id="updateParticipanteExterno" parameterType="ParticipanteExterno">
		UPDATE ParticipanteExterno SET

		<if test="nome!= null"> nome=#{nome},</if>
		<if test="parentId!= null"> parentId=#{parentId},</if>
		<if test="emprId!= null"> emprId=#{emprId},</if>
		<if test="processId!= null"> processId=#{processId},</if>
		<if test="modifyDateUTC!= null"> modify_date=#{modifyDateUTC},</if>
		<if test="modifyUser!= null"> modify_user=#{modifyUser}</if>
		WHERE
		id = #{id}
	</update>

	<delete id="deleteParticipanteExternoById" parameterType="ParticipanteExterno">
		DELETE
		FROM
		ParticipanteExterno WHERE id = #{id}
	</delete>

	<delete id="deleteAllParticipanteExterno">
		DELETE FROM ParticipanteExterno
	</delete>




	<!-- Result maps describe the mapping between the columns returned from
		a query, and the class properties. A result map isnt necessary if the columns
		(or aliases) match to the properties exactly. private Integer id; /** The
		type of an account. */ private Cliente cliente; /** The tipo envolvido. */
		private DoisValores tipoEnvolvido; /** The envolvimento. */ private DoisValores
		envolvimento; private Integer bCliente;
			/** The dias semanas. */
	private String titulo;
	private String local;
	private Integer enviarEmail;
	private Integer enviarMdgTelefone;
	private DoisValores quando;
	private Advogado responsavel;
	private DoisValores tipoCompromisso;
	private DoisValores vinculado;
	private DiasHoras horaFinal;
	private List<Cliente> participante;
	private List<ParticipanteExterno> participanteExterno;
	private List<Documento> documentos;

		 -->
	<resultMap id="CompromissoResult" type="Compromisso">
		<result property="id" column="id" />
		<result property="titulo" column="titulo" />
		<result property="local" column="local" />
		<result property="enviarEmail" column="enviarEmail" />
		<result property="enviarMdgTelefone" column="enviarMdgTelefone" />
		<result property="parentId" column="parentId" />
		<result property="tabelaEnumValue" column="tabelaEnumValue" />
		<result property="emprId" column="emprId" />
		<result property="processId" column="processId" />
		<result property="createUser" column="create_user" />
		<result property="createDateUTC" column="create_date" />
		<result property="modifyUser" column="modify_user" />
		<result property="modifyDateUTC" column="modify_date" />
	<collection property="quando" column="quando"
			select="DoisValorMap.fetchDoisValorById" />
	<collection property="responsavel" column="responsavel"
			select="DoisValorMap.fetchDoisValorById" />
	<collection property="tipoCompromisso" column="tipoCompromisso"
			select="DoisValorMap.fetchDoisValorById" />
	<collection property="vinculado" column="vinculado"
			select="DoisValorMap.fetchDoisValorById" />
	<collection property="horaFinal" column="horaFinal"
			select="DoisValorMap.fetchDoisValorById" />


	</resultMap>

	<sql id="allCompromissoColumns">
		nome,
		,parentId
		,tabelaEnumValue
		,emprId
		,processId
		,create_date
		,create_user
		,modify_date
		,modify_user

	</sql>
	<sql id="allCompromissoValues">
		#{nome},
		#{parentId},
		#{tabelaEnumValue},
		#{emprId},
		#{processId},
		#{createDateUTC},
		#{createUser},
		#{modifyDateUTC},
		#{modifyUser}
	</sql>


	<select id="fetchAllCompromisso" resultMap="CompromissoResult">
		SELECT id,
		<include refid="allCompromissoColumns" />
		FROM Compromisso ORDER BY id ASC
	</select>

	<select id="fetchCompromissoById" parameterType="Integer"
		resultMap="CompromissoResult">
		SELECT id,
		<include refid="allCompromissoColumns" />
		FROM Compromisso WHERE id = #{fetchid}
	</select>

	<select id="fetchCompromissoByParentId" parameterType="Integer"
		resultMap="CompromissoResult">
		SELECT id,
		<include refid="allCompromissoColumns" />
		FROM Compromisso WHERE parentid = #{fetchid}
	</select>

	<select id="fetchAllCompromissoRequest" parameterType="PagedInquiryRequest"
		resultMap="CompromissoResult">

		SELECT id,
		<include refid="allCompromissoColumns" />
		FROM Compromisso where 0 = 0
		<if test="permissaoTypeEnumValue == 1">
			and id IS NOT NULL
		</if>
		<if test="permissaoTypeEnumValue != 1">
			<if test="emprId == null">
				<if test="emprIds != null">
					and emprId in

					<foreach item="item" index="index" collection="emprIds"
						open="(" separator="," close=")">
						#{item}
					</foreach>

				</if>
			</if>
			<if test="emprId != null"> and emprId = #{emprId}</if>
		</if>
		ORDER BY id ASC
	</select>

	<select id="fetchCompromissoRowCount" resultType="Integer">
		SELECT COUNT(*) AS RECORD_COUNT FROM Compromisso WHERE id IS
		NOT NULL
		<if test="permissaoTypeEnumValue == 1">
			and id IS NOT NULL
		</if>
		<if test="permissaoTypeEnumValue != 1">
			<if test="emprId == null">
				<if test="emprIds != null">
					and emprId in

					<foreach item="item" index="index" collection="emprIds"
						open="(" separator="," close=")">
						#{item}
					</foreach>

				</if>
			</if>
			<if test="emprId != null"> and emprId = #{emprId}</if>
		</if>

	</select>

	<insert id="insertCompromisso" parameterType="Compromisso"
		useGeneratedKeys="true" keyProperty="id">
		INSERT INTO Compromisso (
		<if test="id != null">
			<if test="id > 0">id,</if>
		</if>
		<include refid="allCompromissoColumns" />
		)
		VALUES (
		<if test="id != null">
			<if test="id > 0">#{id},</if>
		</if>
		<include refid="allCompromissoValues" />
		)
	</insert>

	<update id="updateCompromisso" parameterType="Compromisso">
		UPDATE Compromisso SET

		<if test="nome!= null"> nome=#{nome},</if>
		<if test="parentId!= null"> parentId=#{parentId},</if>
		<if test="emprId!= null"> emprId=#{emprId},</if>
		<if test="processId!= null"> processId=#{processId},</if>
		<if test="modifyDateUTC!= null"> modify_date=#{modifyDateUTC},</if>
		<if test="modifyUser!= null"> modify_user=#{modifyUser}</if>
		WHERE
		id = #{id}
	</update>

	<delete id="deleteCompromissoById" parameterType="Compromisso">
		DELETE
		FROM
		Compromisso WHERE id = #{id}
	</delete>

	<delete id="deleteAllCompromisso">
		DELETE FROM Compromisso
	</delete>

</mapper>


